(this["webpackJsonpmeety-fe"]=this["webpackJsonpmeety-fe"]||[]).push([[0],{44:function(e,t,a){e.exports=a.p+"static/media/home.8926dda5.png"},45:function(e,t,a){e.exports=a.p+"static/media/hottest.77fe2c9d.png"},46:function(e,t,a){e.exports=a.p+"static/media/event.3f85496d.png"},47:function(e,t,a){e.exports=a.p+"static/media/join-event.0fdd1043.png"},48:function(e,t,a){e.exports=a.p+"static/media/profile.ea14f3fe.png"},49:function(e,t,a){e.exports=a.p+"static/media/new-event.ab1941f5.png"},50:function(e,t,a){e.exports=a.p+"static/media/share-event.bc6e7b45.png"},53:function(e,t,a){e.exports=a(74)},63:function(e,t,a){},65:function(e,t,a){},69:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),c=a.n(s),o=a(28),l=a(41),i=a(20),u=a(4),m=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,p=Object(o.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_USER":return Object(u.a)({},e,{user:t.payload});case"SAVE_ACCESS_TOKEN":return Object(u.a)({},e,{accessToken:t.payload});case"ADD_EVENT_ID_TO_USER_EVENT_ARRAY":return Object(u.a)({},e,{user:Object(u.a)({},e.user,{events:Object(i.a)(e.user.events.concat(t.payload))})});case"FOLLOW_HOST":return Object(u.a)({},e,{user:Object(u.a)({},e.user,{following:Object(i.a)(e.user.following.concat(t.payload))})});case"UNFOLLOW_HOST":var a=Object(i.a)(e.user.following.filter((function(e){return e!==t.payload})));return Object(u.a)({},e,{user:Object(u.a)({},e.user,{following:a})});case"ADD_EVENT_ID":return Object(u.a)({},e,{eventID:t.payload});default:return e}}),{user:null,accessToken:null,eventID:null},m(Object(o.a)(l.a))),d=a(6),h=a(1),f=a.n(h),b=a(2),v=a(8),E=a(9),x=a(11),y=a(10),k=a(12),g=(a(63),function(e){return{type:"SAVE_USER",payload:e}}),w=function(e){return{type:"SAVE_ACCESS_TOKEN",payload:e}},j=function(e){return{type:"FOLLOW_HOST",payload:e}},N=function(e){return{type:"UNFOLLOW_HOST",payload:e}},O=function(e){return{type:"ADD_EVENT_ID",payload:e}},_="http://localhost:3002/",C=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_+"user/createAccount",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_+"user",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify(a)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_+"user/picture",{method:"PUT",headers:{Authorization:"Bearer "+t},body:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_+"user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_+"user/refresh",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_+"user/id/"+a,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(b.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_+"user/"+a+"/follow",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_+"user/"+a+"/unfollow",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(b.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(_+"user/search/"+a,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),L=a(7),U=a(26),P=a(33),z=a.n(P);a(65);var B=Object(U.g)((function(e){var t=e.event,a=t.picture,n=t.name,s=t.schedule,c=t.participantsLength,o=t._id;return r.a.createElement("div",{className:"card deep-shadow",style:{backgroundImage:"url(".concat(a,")"),backgroundSize:"cover",borderRadius:"10px",border:"none",maxWidth:"600px"}},r.a.createElement(L.b,{style:{textDecoration:"none"},to:"/event/"+o},r.a.createElement("div",{style:{height:"300px"},className:"text-white px-3 d-flex flex-column"},r.a.createElement("div",{className:"mb-auto"}),r.a.createElement("h6",{className:"py-2"},n),r.a.createElement("div",null,r.a.createElement(z.a,{fromNow:!0},s),"\xa0\xa0 / \xa0\xa0",c||"0"," Participants"))))})),Y="http://localhost:3002/",R=function(){var e=Object(b.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"event",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify(a)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(b.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"event/"+a,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify(n)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(b.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"event/"+a+"/picture",{method:"PUT",headers:{Authorization:"Bearer "+t},body:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"event/id/"+t,{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"event/hottest-of-the-week/",{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"event/hottest-of-next-week/",{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"event/hottest-of-the-month/",{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"event/all-upcoming/",{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(b.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"event/"+a+"/join-event",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(b.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Y+"event/"+a+"/leave-event",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(x.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="of the week"===e.t0?3:"of next week"===e.t0?11:"of the month"===e.t0?19:"All upcoming"===e.t0?27:35;break;case 3:return e.next=5,q();case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,a.props.setHottestEvents({hottestEvents:r,hottestPeriod:t}),e.abrupt("break",36);case 11:return e.next=13,G();case 13:return n=e.sent,e.next=16,n.json();case 16:return r=e.sent,a.props.setHottestEvents({hottestEvents:r,hottestPeriod:t}),e.abrupt("break",36);case 19:return e.next=21,K();case 21:return n=e.sent,e.next=24,n.json();case 24:return r=e.sent,a.props.setHottestEvents({hottestEvents:r,hottestPeriod:t}),e.abrupt("break",36);case 27:return e.next=29,X();case 29:return n=e.sent,e.next=32,n.json();case 32:return r=e.sent,a.props.setHottestEvents({hottestEvents:r,hottestPeriod:t}),e.abrupt("break",36);case 35:return e.abrupt("break",36);case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.handleClick("of the week");case 1:case"end":return e.stop()}}),e)}))),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"hottest-menu",className:"d-none"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h1",{className:"sortMenu",onClick:function(){return e.handleClick("of the week")}},"of the Week")),r.a.createElement("li",null,r.a.createElement("h1",{className:"sortMenu",onClick:function(){return e.handleClick("of next week")}},"Next Week")),r.a.createElement("li",null,r.a.createElement("h1",{className:"sortMenu",onClick:function(){return e.handleClick("of the month")}},"of the Month")),r.a.createElement("li",null,r.a.createElement("h1",{className:"sortMenu",onClick:function(){return e.handleClick("All upcoming")}},"All upcoming"))))}}]),t}(n.Component),ee=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(x.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={},a.setHottestEvents=function(e){a.setState(e)},a.componentDidMount=function(){},a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement($,{setHottestEvents:this.setHottestEvents}),r.a.createElement("div",{className:"row"},this.state.hottestEvents&&this.state.hottestEvents.map((function(e){return r.a.createElement("div",{className:"col-12 col-sm-6 col-md-4 mb-3"},r.a.createElement(B,{key:e._id,event:e}))}))))}}]),t}(n.Component);function te(){return r.a.createElement("div",null,"Sorry Page Not Found!")}var ae=a(44),ne=a.n(ae),re=a(45),se=a.n(re),ce=a(46),oe=a.n(ce),le=a(47),ie=a.n(le),ue=a(48),me=a.n(ue),pe=a(49),de=a.n(pe),he=a(50),fe=a.n(he);function be(){return r.a.createElement("div",null,r.a.createElement(L.b,{to:"/"},"View App"),r.a.createElement("img",{alt:"home",src:ne.a,width:"200px"}),r.a.createElement("img",{alt:"hottest",src:se.a,width:"200px"}),r.a.createElement("img",{alt:"event",src:oe.a,width:"200px"}),r.a.createElement("img",{alt:"join-event",src:ie.a,width:"200px"}),r.a.createElement("img",{alt:"profile",src:me.a,width:"200px"}),r.a.createElement("img",{alt:"new-event",src:de.a,width:"200px"}),r.a.createElement("img",{alt:"share-event",src:fe.a,width:"200px"}))}var ve=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(x.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleFollowButton=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.props.accessToken,e.next=4,F(t,a.state.user._id);case 4:e.sent.ok&&a.props.followHost(a.state.user._id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.handleUnFollowButton=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.props.accessToken,e.next=4,M(t,a.state.user._id);case 4:e.sent.ok&&a.props.unFollowHost(a.state.user._id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.state={},a.componentDidMount=Object(b.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params._id,e.prev=1,e.next=4,D(a.props.accessToken,t);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,a.setState({user:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return this.state.user?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("img",{className:"col-4 rounded-circle",src:this.state.user.picture,alt:this.state.user.name})),r.a.createElement("div",{className:"bg-light mt-2 p-3 rounded"},r.a.createElement("div",{className:"d-flex justify-content-between align-content-center"},r.a.createElement("div",null,r.a.createElement("h1",null,this.state.user.name),this.state.user.followers.length>0&&r.a.createElement("p",null,this.state.user.followers.length," followers")),r.a.createElement("div",null,this.state.user._id!==this.props.user._id?r.a.createElement(r.a.Fragment,null,this.props.user.following.includes(this.state.user._id)?r.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.handleUnFollowButton},"Unfollow"):r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleFollowButton},"Follow")):r.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.props.history.push("/update-profile")}},"Edit"))),r.a.createElement("h1",null,"About"),r.a.createElement("p",null,this.state.user.aboutMe)),r.a.createElement("h1",null,"Next events:"),r.a.createElement("div",{className:"row"},this.state.user.events.map((function(e){return r.a.createElement("div",{key:e._id,className:"col-12 col-sm-6 col-md-4 mb-3"},r.a.createElement(B,{key:e._id,event:e}))})))):r.a.createElement("div",null,"Loading...")}}]),t}(n.Component),Ee=Object(d.b)((function(e){return Object(u.a)({},e)}),(function(e){return{followHost:function(t){return e(j(t))},unFollowHost:function(t){return e(N(t))}}}))(Object(U.g)(ve)),xe=a(14),ye=Object(d.b)(null,(function(e){return{saveUser:function(t){return e(g(t))},saveAccessToken:function(t){return e(w(t))}}}))(Object(U.g)((function(e){var t=function(){var t=Object(b.a)(f.a.mark((function t(a){var n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,C({name:c,username:u,password:h,aboutMe:j});case 3:n=t.sent,t.t0=n.status,t.next=200===t.t0?7:401===t.t0?38:40;break;case 7:if(!y){t.next=30;break}return t.next=10,n.json();case 10:return n=t.sent,(r=new FormData).append("picture",y),t.next=15,T(n.access_token,r);case 15:s=t.sent,t.t1=s.status,t.next=200===t.t1?19:27;break;case 19:return t.next=21,s.json();case 21:return s=t.sent,localStorage.setItem("accessToken",n.access_token),e.saveAccessToken(n.access_token),e.saveUser(s),e.history.push("/profile/"+s._id),t.abrupt("break",28);case 27:alert("Some error when saving user picture");case 28:t.next=37;break;case 30:return t.next=32,n.json();case 32:n=t.sent,localStorage.setItem("accessToken",n.access_token),e.saveAccessToken(n.access_token),e.saveUser(n.user),e.history.push("/profile/"+n.user._id);case 37:return t.abrupt("break",41);case 38:return alert("You are unauthorized"),t.abrupt("break",41);case 40:alert("Some error");case 41:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=Object(n.useState)(""),s=Object(xe.a)(a,2),c=s[0],o=s[1],l=Object(n.useState)(""),i=Object(xe.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(""),d=Object(xe.a)(p,2),h=d[0],v=d[1],E=Object(n.useState)(""),x=Object(xe.a)(E,2),y=x[0],k=x[1],g=Object(n.useState)(""),w=Object(xe.a)(g,2),j=w[0],N=w[1];return r.a.createElement("div",{className:"container bg-light rounded py-5"},r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"Name"),r.a.createElement("input",{type:"text",value:c,onChange:function(e){return o(e.target.value)},className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",value:u,onChange:function(e){return m(e.target.value)},className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",value:h,onChange:function(e){return v(e.target.value)},className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleFormControlFile1"},"Avatar"),r.a.createElement("input",{type:"file",onChange:function(e){return k(e.target.files[0])},className:"form-control-file",id:"exampleFormControlFile1"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleFormControlTextarea1"},"About you"),r.a.createElement("textarea",{className:"form-control",value:j,placeholder:"Tell us a little about yourself.",onChange:function(e){return N(e.target.value)},id:"exampleFormControlTextarea1",rows:"3"})),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement("div",{className:"ml-2"},r.a.createElement(L.b,{to:"/login"},"Already have an account? Sign In"))),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("a",{href:"".concat("http://localhost:3002/","auth/facebook"),className:"fb connect mt-2"},"Continue with Facebook"))))}))),ke=Object(d.b)((function(e){return Object(u.a)({},e)}),(function(e){return{saveUser:function(t){return e(g(t))},saveAccessToken:function(t){return e(w(t))},addEventID:function(t){return e(O(t))}}}))(Object(U.g)((function(e){var t=function(){var t=Object(b.a)(f.a.mark((function t(a){var n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,I({username:c,password:u});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,localStorage.setItem("accessToken",r.access_token),e.saveUser(r.user),e.saveAccessToken(r.access_token),e.eventID?(s=e.eventID,e.addEventID(null),e.history.push("/event/"+s)):e.history.push("/profile/"+r.user._id);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=Object(n.useState)(""),s=Object(xe.a)(a,2),c=s[0],o=s[1],l=Object(n.useState)(""),i=Object(xe.a)(l,2),u=i[0],m=i[1];return r.a.createElement("div",{className:"container bg-light rounded py-5"},r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",value:c,onChange:function(e){return o(e.target.value)},className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputPassword1"},"Password"),r.a.createElement("input",{type:"password",value:u,onChange:function(e){return m(e.target.value)},className:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement("div",{className:"ml-2"},r.a.createElement(L.b,{to:"/create-account"},"Don't have an account? Sign Up"))),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("a",{href:"".concat("http://localhost:3002/","auth/facebook"),className:"text-white fb connect mt-2"},"Continue with Facebook"))))}))),ge=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(x.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=Object(b.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.accessToken,localStorage.setItem("accessToken",t),e.next=4,A(t);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,a.props.saveAccessToken(r.access_token),a.props.saveUser(r.user);case 10:case"end":return e.stop()}}),e)}))),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return localStorage.getItem("accessToken")?r.a.createElement(U.a,{to:"/"}):r.a.createElement("div",null,"Loading...")}}]),t}(n.Component),we=Object(d.b)(null,(function(e){return{saveUser:function(t){return e(g(t))},saveAccessToken:function(t){return e(w(t))}}}))(Object(U.g)(ge)),je=a(23);var Ne=Object(U.g)((function(e){var t=e.item,a=t.picture,n=t.name,s=t._id;return r.a.createElement(L.b,{to:"/profile/"+s,className:"card m-2 text-dark",style:{width:"150px",border:"none",textDecoration:"none"}},r.a.createElement("div",{className:"px-4"},r.a.createElement("img",{className:"card-img-top rounded-circle",src:a,alt:n})),r.a.createElement("h5",{className:"card-title text-center"},n))})),Oe=a(29),_e=a.n(Oe),Ce=a(24),Se=a(25);var Te=Object(d.b)((function(e){return Object(u.a)({},e)}),null)((function(e){var t=function(){var t=Object(b.a)(f.a.mark((function t(a){var n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length>2)){t.next=12;break}return t.next=3,H(e.accessToken,a);case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,s=[],r.forEach((function(t){e.hosts.map((function(e){return e._id})).includes(t._id)||(s=[].concat(Object(i.a)(s),[t]))})),p(s),t.next=13;break;case 12:p([]);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=Object(n.useState)(""),s=Object(xe.a)(a,2),c=s[0],o=s[1],l=Object(n.useState)([]),u=Object(xe.a)(l,2),m=u[0],p=u[1];return r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#addHostModal"},r.a.createElement(Ce.a,{icon:Se.b})," New host"),r.a.createElement("div",{className:"modal fade",id:"addHostModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-xl",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Search Host by Name"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"John Doe",value:c,onChange:function(e){return o(e.target.value)},onKeyUp:function(e){t(e.target.value)}}),r.a.createElement("div",{className:"row text-center"},e.hosts.map((function(t){return r.a.createElement("div",{key:t._id},r.a.createElement(Ne,{key:t._id,item:t}),e.user._id!==t._id&&r.a.createElement("button",{className:"btn btn-secondary",onClick:function(a){a.preventDefault(),e.removeHost(t),p([].concat(Object(i.a)(m),[t]))}},"Remove Host"))}))),r.a.createElement("div",{className:"row text-center"},m.map((function(t){return r.a.createElement("div",{key:t._id},r.a.createElement(Ne,{key:t._id,item:t}),r.a.createElement("button",{className:"btn btn-primary",onClick:function(a){a.preventDefault(),e.addHost(t);var n=m.filter((function(e){return e!==t}));p(n)}},"Add Host"))})))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal"},"Done"))))))})),Ie=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(x.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={name:"Test "+new Date,schedule:_e()(new Date).format("YYYY-MM-DDTHH:mm:ss"),duration:"30",description:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",hosts:[a.props.user],participants:[a.props.user._id],participantsLength:1,link:""},a.handleSubmit=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r,s,c,o,l,i,u,m,p,d,h,b;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.accessToken,r=a.state,s=r.name,c=r.schedule,o=r.duration,l=r.description,i=r.hosts,u=r.participantsLength,m=r.link,p=i.map((function(e){return e._id})),e.prev=4,e.next=7,R(n,{name:s,schedule:c,duration:o,description:l,hosts:p,participants:i,participantsLength:u,link:m});case 7:d=e.sent,e.t0=d.status,e.next=200===e.t0?11:401===e.t0?39:41;break;case 11:if(!a.state.picture){e.next=32;break}return e.next=14,d.json();case 14:return d=e.sent,(h=new FormData).append("picture",a.state.picture),e.next=19,J(n,d._id,h);case 19:b=e.sent,e.t1=b.status,e.next=200===e.t1?23:29;break;case 23:return e.next=25,b.json();case 25:return b=e.sent,a.props.addEventIDToUserEventsArray(b._id),a.props.history.push("/event/"+b._id),e.abrupt("break",30);case 29:alert("Some error when saving event picture");case 30:e.next=38;break;case 32:return e.next=34,d.json();case 34:return d=e.sent,a.props.addEventIDToUserEventsArray(d._id),a.props.history.push("/event/"+d._id),e.abrupt("break",42);case 38:return e.abrupt("break",42);case 39:return alert("You are unauthorized"),e.abrupt("break",42);case 41:alert("Some error");case 42:e.next=47;break;case 44:e.prev=44,e.t2=e.catch(4),alert(e.t2);case 47:case"end":return e.stop()}}),e,null,[[4,44]])})));return function(t){return e.apply(this,arguments)}}(),a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(je.a)({},r,n))},a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container rounded bg-light py-5"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Event Name"),r.a.createElement("input",{type:"text",name:"name",className:"form-control",id:"name",placeholder:"Event Name",value:this.state.name,onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"schedule"},"Date/Time"),r.a.createElement("input",{type:"datetime-local",name:"schedule",className:"form-control",id:"schedule",value:this.state.schedule,onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"duration"},"Duration (in minutes)"),r.a.createElement("input",{type:"text",className:"form-control",id:"duration",name:"duration",placeholder:"Example: 30",value:this.state.duration,onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"link"},"Event Link"),r.a.createElement("input",{type:"text",name:"link",className:"form-control",id:"link",placeholder:"Event Name",value:this.state.link,onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"picture"},"Example file input"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"picture",name:"picture",onChange:function(t){return e.setState({picture:t.target.files[0]})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"About you"),r.a.createElement("textarea",{className:"form-control",value:this.state.description,placeholder:"Let your attendees know what to expect, including the agenda, what they need to bring and how to find the group.",onChange:this.handleInputChange,id:"description",name:"description",rows:"3"})),r.a.createElement("label",{htmlFor:"Hosts"},"Hosts (they can edit event details)"),r.a.createElement(Te,{user:this.props.user,hosts:this.state.hosts,addHost:function(t){return e.setState({hosts:[].concat(Object(i.a)(e.state.hosts),[t]),participantsLength:e.state.participantsLength+1})},removeHost:function(t){return e.setState({hosts:e.state.hosts.filter((function(e){return e._id!==t._id})),participantsLength:e.state.participantsLength-1})}}),r.a.createElement("div",{className:"row"},this.state.hosts.map((function(e,t){return r.a.createElement(Ne,{item:e,key:t})}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.props.history.push("/")}},"Cancel event"),r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit},"Publish"))))}}]),t}(n.Component),Ae=Object(d.b)((function(e){return Object(u.a)({},e)}),(function(e){return{addEventIDToUserEventsArray:function(t){return e(function(e){return{type:"ADD_EVENT_ID_TO_USER_EVENT_ARRAY",payload:e}}(t))}}}))(Object(U.g)(Ie)),De=(a(69),a(75)),Fe=a(77),Me=a(79),He=a(81),Le=a(83),Ue=a(85),Pe=a(76),ze=a(78),Be=a(80),Ye=a(82),Re=a(84),Ve=a(86);function Je(){var e=String(window.location),t="Check out my event on Meety",a="2.5rem";return r.a.createElement("div",null,r.a.createElement("li",{className:"network"},r.a.createElement(De.a,{className:"network__share-button",url:e,quote:t},r.a.createElement(Pe.a,{size:a}))),r.a.createElement("li",{className:"network"},r.a.createElement(Fe.a,{className:"network__share-button",url:e,title:t},r.a.createElement(ze.a,{size:a}))),r.a.createElement("li",{className:"network"},r.a.createElement(Me.a,{className:"network__share-button",url:e,quote:t},r.a.createElement(Be.a,{size:a}))),r.a.createElement("li",{className:"network"},r.a.createElement(He.a,{className:"network__share-button",url:e,title:t},r.a.createElement(Ye.a,{size:a}))),r.a.createElement("li",{className:"network"},r.a.createElement(Le.a,{className:"network__share-button",url:e,quote:t},r.a.createElement(Re.a,{size:a}))),r.a.createElement("li",{className:"network"},r.a.createElement(Ue.a,{className:"network__share-button",url:e,title:t},r.a.createElement(Ve.a,{size:a}))))}var We=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(x.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleJoinButton=Object(b.a)(f.a.mark((function e(){var t,n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.props.user){e.next=6;break}t=a.props.match.params._id,a.props.addEventID(t),a.props.history.push("/login"),e.next=21;break;case 6:return e.prev=6,n=a.props.accessToken,e.next=10,Q(n,a.state.event._id);case 10:if(!(r=e.sent).ok){e.next=16;break}return e.next=14,r.json();case 14:s=e.sent,a.setState({event:s});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[6,18]])}))),a.handleLeaveButton=Object(b.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.props.accessToken,e.next=4,Z(t,a.state.event._id);case 4:if(!(n=e.sent).ok){e.next=10;break}return e.next=8,n.json();case 8:r=e.sent,a.setState({event:r});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),a.handleFollowButton=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.props.accessToken,e.next=4,F(t,a.state.event.hosts[0]._id);case 4:e.sent.ok&&a.props.followHost(a.state.event.hosts[0]._id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.handleUnFollowButton=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.props.accessToken,e.next=4,M(t,a.state.event.hosts[0]._id);case 4:e.sent.ok&&a.props.unFollowHost(a.state.event.hosts[0]._id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.state={},a.componentDidMount=Object(b.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(a.props.match.params._id);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a.setState({event:n});case 7:case"end":return e.stop()}}),e)}))),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.state.event?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container",style:{paddingBottom:"200px"}},r.a.createElement(B,{event:this.state.event}),r.a.createElement("div",{className:"d-flex justify-content-between my-4"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("img",{src:this.state.event.hosts[0].picture,alt:"",width:"70px",className:"rounded-circle mr-3"}),r.a.createElement("div",null,"Hosted by:",r.a.createElement("h6",null,this.state.event.hosts[0].name))),r.a.createElement("div",null,this.props.user&&this.props.user.events.includes(this.state.event._id)&&r.a.createElement(L.b,{to:"/update-event/"+this.state.event._id},r.a.createElement("button",{className:"btn btn-outline-primary"},"Edit")),this.props.user&&this.props.user._id!==this.state.event.hosts[0]._id&&r.a.createElement(r.a.Fragment,null,this.props.user.following.includes(this.state.event.hosts[0]._id)?r.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.handleUnFollowButton},"Unfollow"):r.a.createElement("button",{className:"btn btn-outline-primary",onClick:this.handleFollowButton},"Follow")))),r.a.createElement("h2",null,"Detail"),r.a.createElement("p",null,this.state.event.description),this.state.event.link&&r.a.createElement("a",{className:"btn btn-primary text-white mb-2",rel:"noopener noreferrer",target:"_blank",style:{textDecoration:"none"},href:this.state.event.link,alt:"Event Link"},"Event Live Link"),r.a.createElement(Je,null),r.a.createElement("h1",null,"Participants (",this.state.event.participantsLength,")"),r.a.createElement("div",{className:"row"},this.state.event.participants.map((function(e){return r.a.createElement(Ne,{key:e._id,item:e})})))),r.a.createElement("div",{style:{backgroundColor:"#ffffff"},className:"fixed-bottom "},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row pb-2"},r.a.createElement("div",{className:"d-none d-lg-block col-md-6"},r.a.createElement("b",null,r.a.createElement(z.a,{format:"dddd DD MMMM",date:this.state.event.schedule})),r.a.createElement("h2",null,this.state.event.name)),r.a.createElement("h5",{className:"col-12 col-sm-3 col-md-3 text-center"},"FREE ADMISION"),r.a.createElement("div",{className:"col-12 col-sm-3 col-md-3 text-center"},this.props.user&&this.state.event.participants.map((function(e){return e._id})).includes(this.props.user._id)?r.a.createElement("button",{style:{width:"200px"},className:"btn btn-primary",onClick:this.handleLeaveButton},"Leave Event"):r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleJoinButton},"Join Event")))))):r.a.createElement("div",null,"Loading...")}}]),t}(n.Component),qe=Object(d.b)((function(e){return Object(u.a)({},e)}),(function(e){return{followHost:function(t){return e(j(t))},unFollowHost:function(t){return e(N(t))},addEventID:function(t){return e(O(t))}}}))(Object(U.g)(We)),Ge=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(x.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r,s,c,o,l,i,u,m,p,d,h,b,v;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.accessToken,r=a.state,s=r.name,c=r.schedule,o=r.duration,l=r.description,i=r._id,u=r.hosts,m=r.participants,p=r.participantsLength,d=r.link,e.prev=3,e.next=6,V(n,i,{name:s,schedule:c,duration:o,description:l,hosts:u.map((function(e){return e._id})),participants:m.map((function(e){return e._id})),participantsLength:p,link:d});case 6:h=e.sent,e.t0=h.status,e.next=200===e.t0?10:401===e.t0?36:38;break;case 10:if(!a.state.newPicture){e.next=30;break}return e.next=13,h.json();case 13:return h=e.sent,(b=new FormData).append("picture",a.state.newPicture),e.next=18,J(n,h._id,b);case 18:v=e.sent,e.t1=v.status,e.next=200===e.t1?22:27;break;case 22:return e.next=24,v.json();case 24:return v=e.sent,a.props.history.push("/event/"+v._id),e.abrupt("break",28);case 27:alert("Some error when saving event picture");case 28:e.next=35;break;case 30:return e.next=32,h.json();case 32:return h=e.sent,a.props.history.push("/event/"+h._id),e.abrupt("break",39);case 35:return e.abrupt("break",39);case 36:return alert("You are unauthorized"),e.abrupt("break",39);case 38:alert("Some error");case 39:e.next=44;break;case 41:e.prev=41,e.t2=e.catch(3),alert(e.t2);case 44:case"end":return e.stop()}}),e,null,[[3,41]])})));return function(t){return e.apply(this,arguments)}}(),a.handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(je.a)({},r,n))},a.componentDidMount=Object(b.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(a.props.match.params._id);case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a.setState(n);case 7:case"end":return e.stop()}}),e)}))),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return this.state?r.a.createElement("div",{className:"container rounded bg-light py-5"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Event Name"),r.a.createElement("input",{type:"text",name:"name",className:"form-control",id:"name",placeholder:"Event Name",value:this.state.name,onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"schedule"},"Date/Time"),r.a.createElement("input",{type:"datetime-local",name:"schedule",className:"form-control",id:"schedule",value:_e()(this.state.schedule).format("YYYY-MM-DDTHH:mm:ss"),onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"duration"},"Duration (in minutes)"),r.a.createElement("input",{type:"text",className:"form-control",id:"duration",name:"duration",placeholder:"Example: 30",value:this.state.duration,onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"link"},"Event Link"),r.a.createElement("input",{type:"text",name:"link",className:"form-control",id:"link",placeholder:"Event Name",value:this.state.link,onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"picture"},"Example file input"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"picture",name:"picture",onChange:function(t){return e.setState({newPicture:t.target.files[0]})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"About you"),r.a.createElement("textarea",{className:"form-control",value:this.state.description,placeholder:"Let your attendees know what to expect, including the agenda, what they need to bring and how to find the group.",onChange:this.handleInputChange,id:"description",name:"description",rows:"3"})),r.a.createElement("label",{htmlFor:"Hosts"},"Hosts (they can edit event details)"),r.a.createElement(Te,{user:this.props.user,hosts:this.state.hosts,addHost:function(t){return e.setState({hosts:[].concat(Object(i.a)(e.state.hosts),[t]),participantsLength:e.state.participantsLength+1,participants:[].concat(Object(i.a)(e.state.participants),[t])})},removeHost:function(t){return e.setState({hosts:e.state.hosts.filter((function(e){return e._id!==t._id})),participantsLength:e.state.participantsLength-1,participants:e.state.participants.filter((function(e){return e._id!==t._id}))})}}),r.a.createElement("div",{className:"row"},this.state.hosts.map((function(e,t){return r.a.createElement(Ne,{item:e,key:t})}))),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.props.history.push("/event/"+e.props.match.params._id)}},"Cancel event"),r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleSubmit},"Publish")))):r.a.createElement("div",null,"loading...")}}]),t}(n.Component),Ke=Object(d.b)((function(e){return Object(u.a)({},e)}),null)(Object(U.g)(Ge)),Xe=(a(73),Object(d.b)((function(e){return Object(u.a)({},e)}),(function(e){return{saveUser:function(t){return e(g(t))},saveAccessToken:function(t){return e(w(t))}}}))(Object(U.g)((function(e){return r.a.createElement("div",{style:{zIndex:1031},className:"w-100 h-100 position-fixed bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex"},r.a.createElement(Ce.a,{icon:Se.c,size:"2x",className:"mx-2 my-3 ",onClick:function(){e.setShowMenu(!1)}}),r.a.createElement("div",{className:"ml-auto"},r.a.createElement("button",{type:"button",className:"my-2 btn btn-primary",onClick:function(){localStorage.removeItem("accessToken"),e.saveUser(null),e.saveAccessToken(null),e.setShowMenu(!1),e.history.push("/")}},"Logout"))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("img",{src:e.user.picture,alt:e.user.name,className:"rounded-circle col-6 col-sm-4 col-md-3"}),r.a.createElement("div",{className:"col-12 col-sm-8 col-md-9"},r.a.createElement("h1",{className:"display-4"},e.user.name))),r.a.createElement("div",{className:"row d-flex justify-content-center"},r.a.createElement("button",{type:"button",onClick:function(){e.setShowMenu(!1),e.history.push("/profile/"+e.user._id)},className:"mx-2 my-2 btn btn-primary"},"My Profile"),r.a.createElement("button",{type:"button",onClick:function(){e.setShowMenu(!1),e.history.push("/add-event")},className:"mx-2 my-2 btn btn-primary"},"Create Event"," ")))))}))));var Qe=Object(U.g)((function(e){return r.a.createElement("div",{style:{zIndex:1031},className:"w-100 h-100 position-fixed bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex"},r.a.createElement(Ce.a,{icon:Se.c,size:"2x",className:"mx-2 my-3 ",onClick:function(){e.setShowMenu(!1)}}),r.a.createElement("div",{className:"ml-auto"},r.a.createElement("button",{onClick:function(){e.setShowMenu(!1),e.history.push("/login")},type:"button",className:"mt-3 mr-2 btn btn-primary"},"Log In"),r.a.createElement("button",{onClick:function(){e.setShowMenu(!1),e.history.push("/create-account")},type:"button",className:"mt-3 btn btn-primary"},"Create Account")))))})),Ze=function(e){function t(){return Object(v.a)(this,t),Object(x.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.props.user?r.a.createElement(Xe,{setShowMenu:this.props.setShowMenu}):r.a.createElement(Qe,{setShowMenu:this.props.setShowMenu})}}]),t}(n.Component),$e=Object(d.b)((function(e){return Object(u.a)({},e)}),null)(Object(U.g)(Ze));function et(){var e=Object(n.useState)(!1),t=Object(xe.a)(e,2),a=t[0],s=t[1];return a?r.a.createElement($e,{setShowMenu:s}):r.a.createElement("div",{className:"head"},r.a.createElement("div",{className:"container"},r.a.createElement(Ce.a,{style:{zIndex:0},icon:Se.a,size:"2x",className:"mx-2 my-3 text-white position-fixed",onClick:function(){s(!0)}}),r.a.createElement("div",{className:"w-100 text-center"},r.a.createElement(L.b,{to:"/",className:"logo"},"Meety"))))}var tt=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(x.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleInputChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(je.a)({},r,n))},a.handleSubmit=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,S(a.props.accessToken,{name:a.state.name,aboutMe:a.state.aboutMe});case 3:n=e.sent,e.t0=n.status,e.next=200===e.t0?7:34;break;case 7:if(!a.state.newPicture){e.next=28;break}return e.next=10,n.json();case 10:return n=e.sent,(r=new FormData).append("picture",a.state.newPicture),e.next=15,T(a.props.accessToken,r);case 15:s=e.sent,e.t1=s.status,e.next=200===e.t1?19:25;break;case 19:return e.next=21,s.json();case 21:return s=e.sent,a.props.saveUser(s),a.props.history.push("/profile/"+s._id),e.abrupt("break",26);case 25:alert("Some error when saving user picture");case 26:e.next=33;break;case 28:return e.next=30,n.json();case 30:n=e.sent,a.props.saveUser(n),a.props.history.push("/profile/"+n._id);case 33:return e.abrupt("break",35);case 34:alert("Some error");case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(a.props.user);case 1:case"end":return e.stop()}}),e)}))),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return this.state?r.a.createElement("div",{className:"container bg-light rounded py-5"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"Name"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleInputChange,className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleInputEmail1"},"Email address"),r.a.createElement("input",{type:"email",disabled:!0,value:this.state.username,onChange:this.handleInputChange,className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleFormControlFile1"},"Avatar"),r.a.createElement("input",{type:"file",onChange:function(t){return e.setState({newPicture:t.target.files[0]})},className:"form-control-file",id:"exampleFormControlFile1"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"exampleFormControlTextarea1"},"About you"),r.a.createElement("textarea",{className:"form-control",name:"aboutMe",value:this.state.aboutMe,placeholder:"Tell us a little about yourself.",onChange:this.handleInputChange,id:"exampleFormControlTextarea1",rows:"3"})),r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")))):r.a.createElement("div",null,"loading...")}}]),t}(n.Component),at=Object(d.b)((function(e){return Object(u.a)({},e)}),(function(e){return{saveUser:function(t){return e(g(t))},saveAccessToken:function(t){return e(w(t))}}}))(tt),nt=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(x.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a.componentDidMount=Object(b.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("accessToken"))){e.next=31;break}return e.prev=2,e.next=5,A(t);case 5:n=e.sent,e.t0=n.status,e.next=200===e.t0?9:401===e.t0?17:21;break;case 9:return e.next=11,n.json();case 11:return n=e.sent,localStorage.setItem("accessToken",n.access_token),a.props.saveUser(n.user),a.props.saveAccessToken(n.access_token),a.setState({loading:!1}),e.abrupt("break",24);case 17:return localStorage.removeItem("accessToken"),alert("You are unauthorized or your token has expired"),a.setState({loading:!1}),e.abrupt("break",24);case 21:return alert("Some error"),a.setState({loading:!1}),e.abrupt("break",24);case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(2),alert(e.t1);case 29:e.next=32;break;case 31:a.setState({loading:!1});case 32:case"end":return e.stop()}}),e,null,[[2,26]])}))),a}return Object(k.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.state.loading?r.a.createElement(r.a.Fragment,null,"Loading"):r.a.createElement("div",{className:"container-fluid px-0"},r.a.createElement(L.a,{basename:"/meety-fe"},r.a.createElement(et,null),r.a.createElement(U.d,null,r.a.createElement(U.b,{path:"/intro",exact:!0,component:be}),r.a.createElement(U.b,{path:"/",exact:!0,component:ee}),r.a.createElement(U.b,{path:"/event/:_id",exact:!0,component:qe}),r.a.createElement(U.b,{path:"/add-event",exact:!0,component:Ae}),r.a.createElement(U.b,{path:"/update-event/:_id",component:Ke}),r.a.createElement(U.b,{path:"/profile/:_id"},this.props.user?r.a.createElement(Ee,null):r.a.createElement(U.a,{to:"/"})),r.a.createElement(U.b,{path:"/update-profile",component:at}),r.a.createElement(U.b,{path:"/create-account",exact:!0,component:ye}),r.a.createElement(U.b,{path:"/login",exact:!0,component:ke}),r.a.createElement(U.b,{path:"/auth/facebook/callback/:accessToken",exact:!0,component:we}),r.a.createElement(U.b,{component:te}))))}}]),t}(n.Component),rt=Object(d.b)((function(e){return Object(u.a)({},e)}),(function(e){return{saveUser:function(t){return e(g(t))},saveAccessToken:function(t){return e(w(t))}}}))(nt);c.a.render(r.a.createElement(d.a,{store:p},r.a.createElement(rt,null)),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.b3ab2341.chunk.js.map